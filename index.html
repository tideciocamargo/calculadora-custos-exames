<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Planilha de Custos Laboratoriais</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f8f9fa;
      color: #333;
      margin: 0;
      padding: 20px;
    }
    h1 {
      text-align: center;
      color: #0164cc;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
      background: white;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 0 5px rgba(0,0,0,0.1);
    }
    th, td {
      border: 1px solid #ddd;
      padding: 10px;
      text-align: center;
    }
    th {
      background: #0164cc;
      color: white;
    }
    input[type="text"], input[type="number"] {
      width: 90%;
      padding: 5px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    button {
      background: #0164cc;
      color: white;
      border: none;
      padding: 10px 15px;
      border-radius: 5px;
      cursor: pointer;
      transition: 0.3s;
    }
    button:hover {
      background: #014a99;
    }
    .container {
      max-width: 900px;
      margin: auto;
    }
    .inputs {
      margin-top: 20px;
      display: flex;
      gap: 10px;
      justify-content: center;
    }
    .summary {
      margin-top: 30px;
      background: white;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 0 5px rgba(0,0,0,0.1);
    }
    .summary div {
      margin: 10px 0;
      font-size: 1.1em;
    }
    .highlight {
      color: #0164cc;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Planilha de Custos Laboratoriais</h1>
    <table id="tabela">
      <thead>
        <tr>
          <th>Produto</th>
          <th>Quantidade da caixa / testes</th>
          <th>Valor pago (R$)</th>
          <th>Custo por exame (R$)</th>
          <th>A√ß√µes</th>
        </tr>
      </thead>
      <tbody id="tabela-corpo">
        <tr>
          <td><input type="text" placeholder="Ex: Pipeta 10uL"></td>
          <td><input type="number" placeholder="Ex: 100"></td>
          <td><input type="number" placeholder="Ex: 50" step="0.01"></td>
          <td class="custo-exame">0.00</td>
          <td><button onclick="removerLinha(this)">üóëÔ∏è</button></td>
        </tr>
      </tbody>
    </table>

    <div class="inputs">
      <button onclick="adicionarLinha()">‚ûï Adicionar Produto</button>
    </div>

    <div class="summary">
      <div>
        <label><strong>Valor do aluguel mensal do equipamento (R$):</strong></label><br>
        <input type="number" id="aluguel" placeholder="Ex: 3000" step="0.01">
      </div>
      <div>
        <label><strong>Quantidade de dias de uso no m√™s:</strong></label><br>
        <input type="number" id="dias" placeholder="Ex: 30">
      </div>
      <div>
        <label><strong>Quantidade de exames por dia:</strong></label><br>
        <input type="number" id="exames-dia" placeholder="Ex: 50">
      </div>
      <div style="margin-top:15px;">
        <button onclick="calcular()">üßÆ Calcular Custos</button>
      </div>
    </div>

    <div class="summary">
      <div><strong>Custo total dos produtos:</strong> R$ <span id="total-produtos" class="highlight">0.00</span></div>
      <div><strong>Custo do aluguel por exame:</strong> R$ <span id="aluguel-exame" class="highlight">0.00</span></div>
      <div><strong>Custo total por exame:</strong> R$ <span id="total-exame" class="highlight">0.00</span></div>
    </div>
  </div>

  <script>
    function adicionarLinha() {
      const tabela = document.getElementById('tabela-corpo');
      const linha = document.createElement('tr');
      linha.innerHTML = `
        <td><input type="text" placeholder="Ex: Reagente XYZ"></td>
        <td><input type="number" placeholder="Ex: 100"></td>
        <td><input type="number" placeholder="Ex: 150" step="0.01"></td>
        <td class="custo-exame">0.00</td>
        <td><button onclick="removerLinha(this)">üóëÔ∏è</button></td>
      `;
      tabela.appendChild(linha);
    }

    function removerLinha(botao) {
      botao.parentElement.parentElement.remove();
    }

    function calcular() {
      const linhas = document.querySelectorAll('#tabela-corpo tr');
      let totalProdutos = 0;

      linhas.forEach(linha => {
        const qtd = parseFloat(linha.children[1].querySelector('input').value) || 0;
        const valor = parseFloat(linha.children[2].querySelector('input').value) || 0;

        const custoPorExame = qtd > 0 ? valor / qtd : 0;
        linha.querySelector('.custo-exame').textContent = custoPorExame.toFixed(2);

        totalProdutos += custoPorExame;
      });

      const aluguel = parseFloat(document.getElementById('aluguel').value) || 0;
      const dias = parseFloat(document.getElementById('dias').value) || 30;
      const examesDia = parseFloat(document.getElementById('exames-dia').value) || 1;

      const aluguelDia = aluguel / dias;
      const aluguelPorExame = aluguelDia / examesDia;

      document.getElementById('total-produtos').textContent = totalProdutos.toFixed(2);
      document.getElementById('aluguel-exame').textContent = aluguelPorExame.toFixed(2);
      document.getElementById('total-exame').textContent = (totalProdutos + aluguelPorExame).toFixed(2);
    }
  </script>
</body>
</html>
